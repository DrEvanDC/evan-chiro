<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="×§×œ×™× ×™×§×ª ×›×™×¨×•×¤×¨×§×˜×™×§×” ×©×œ ×“×´×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ - ×˜×™×¤×•×œ ××§×¦×•×¢×™ ×œ×›××‘×™ ×’×‘, ×¦×•×•××¨ ×•×™×¦×™×‘×”" />
  <title>×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ (Evan) â€“ ×›×™×¨×•×¤×¨×§×˜×™×§×” | Dr. Evan Gershater Chiropractic</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f3f4f6;
      color: #111827;
      transition: background 0.2s ease, color 0.2s ease;
    }
    a {
      text-decoration: none;
    }

    /* Hero Section */
    header.hero {
      background: linear-gradient(135deg, #0ea5e9, #22c55e);
      color: white;
      padding: 80px 16px 60px;
      position: relative;
      overflow: hidden;
    }
    .hero-inner {
      max-width: 1120px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.5fr);
      gap: 32px;
      align-items: center;
    }
    .hero h1 {
      font-size: clamp(32px, 4vw, 44px);
      margin: 0 0 16px;
      line-height: 1.2;
    }
    .hero p {
      font-size: 18px;
      margin: 0 0 24px;
    }
    .hero-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      font-size: 14px;
    }
    .hero-badge {
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.2);
      backdrop-filter: blur(4px);
    }
    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }
    .btn-primary, .btn-secondary, .btn-ghost {
      border-radius: 999px;
      padding: 12px 22px;
      font-size: 15px;
      border: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.1s ease, color 0.1s ease;
      white-space: nowrap;
    }
    .btn-primary {
      background: #fbbf24;
      color: #1f2937;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.25);
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 30px rgba(15, 23, 42, 0.35);
    }
    .btn-secondary {
      background: rgba(15, 23, 42, 0.14);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.35);
    }
    .btn-secondary:hover {
      background: rgba(15, 23, 42, 0.24);
    }
    .btn-ghost {
      background: transparent;
      color: #111827;
      border: 1px solid #d1d5db;
    }
    .btn-ghost:hover {
      background: #e5e7eb;
    }
    .hero-note {
      font-size: 13px;
      opacity: 0.9;
      margin-top: 6px;
    }

    .hero-image-wrapper {
      position: relative;
    }
    .hero-main-image {
      border-radius: 32px;
      overflow: hidden;
      background: radial-gradient(circle at top, #bbf7d0, #0ea5e9);
      min-height: 260px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding: 20px;
      box-shadow: 0 25px 40px rgba(15, 23, 42, 0.4);
    }
    .hero-main-image img {
      max-width: 100%;
      height: auto;
      display: block;
      border-radius: 24px;
    }
    .hero-floating-card {
      position: absolute;
      right: 8px;
      bottom: -16px;
      background: white;
      border-radius: 20px;
      padding: 14px 16px;
      font-size: 13px;
      box-shadow: 0 16px 30px rgba(15, 23, 42, 0.45);
      max-width: 230px;
      color: #0f172a;
    }

    /* Main Content */
    main {
      max-width: 1120px;
      margin: 0 auto;
      padding: 40px 16px 80px;
    }
    section {
      margin-bottom: 56px;
    }
    h2 {
      font-size: 26px;
      margin: 0 0 8px;
    }
    .section-subtitle {
      margin: 0 0 24px;
      color: #6b7280;
      font-size: 14px;
    }

    /* Cards */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }
    .card {
      background: white;
      border-radius: 20px;
      padding: 20px 18px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
      border: 1px solid #e5e7eb;
    }
    .card h3 {
      margin: 0 0 6px;
      font-size: 18px;
    }
    .card p {
      margin: 0;
      font-size: 14px;
      color: #4b5563;
    }

    .image-card {
      padding: 0;
      overflow: hidden;
    }
    .image-card img {
      width: 100%;
      height: 190px;
      object-fit: cover;
      display: block;
    }
    .image-card-content {
      padding: 16px 18px 18px;
    }

    .testimonial {
      font-size: 14px;
      color: #374151;
      line-height: 1.7;
    }
    .testimonial strong {
      display: block;
      margin-top: 8px;
      font-size: 13px;
      color: #6b7280;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }
    .pill {
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #eff6ff;
      color: #1d4ed8;
    }

    /* Appointments Section */
    .appointments-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.6fr) minmax(0, 1.1fr);
      gap: 20px;
      align-items: flex-start;
    }
    .appointments-list {
      margin-top: 12px;
    }
    .appointment-item {
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      margin-bottom: 8px;
      background: #f9fafb;
    }

    .field-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px;
      align-items: center;
      font-size: 14px;
    }
    .field-row label {
      min-width: 80px;
    }
    input[type="date"],
    input[type="time"],
    input[type="text"],
    input[type="password"] {
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      font-size: 14px;
      flex: 1;
      min-width: 0;
    }

    /* Admin Box */
    .admin-box {
      background: #0f172a;
      color: white;
      border-radius: 20px;
      padding: 18px 18px 16px;
      font-size: 13px;
    }
    .admin-box h3 {
      margin: 0 0 6px;
      font-size: 16px;
    }
    .admin-box small {
      display: block;
      color: #9ca3af;
      margin-bottom: 10px;
    }
    .admin-inner {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid rgba(148, 163, 184, 0.5);
    }
    textarea {
      width: 100%;
      min-height: 80px;
      border-radius: 14px;
      border: 1px solid #e5e7eb;
      padding: 8px 10px;
      font-family: inherit;
      font-size: 13px;
      resize: vertical;
    }

    .admin-box .btn-ghost,
    .admin-box .btn-primary,
    .admin-box .btn-secondary {
      background: #f9fafb;
      color: #0f172a;
      border: 1px solid #e5e7eb;
      box-shadow: none;
    }
    .admin-box .btn-ghost:hover,
    .admin-box .btn-primary:hover,
    .admin-box .btn-secondary:hover {
      background: #e5e7eb;
    }

    /* Footer */
    footer {
      background: #0b1120;
      color: #9ca3af;
      padding: 24px 16px 30px;
      font-size: 12px;
      text-align: center;
    }

    /* Accessibility Widget */
    .accessibility-toggle {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 1000;
      border-radius: 999px;
      width: 52px;
      height: 52px;
      border: none;
      background: #111827;
      color: #f9fafb;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.5);
    }
    .accessibility-panel {
      position: fixed;
      bottom: 84px;
      left: 20px;
      z-index: 999;
      width: 260px;
      max-width: calc(100% - 40px);
      background: white;
      border-radius: 16px;
      box-shadow: 0 16px 40px rgba(15, 23, 42, 0.5);
      padding: 14px 14px 10px;
      font-size: 13px;
      border: 1px solid #e5e7eb;
      display: none;
    }
    .accessibility-panel.open {
      display: block;
    }
    .accessibility-panel h3 {
      margin: 0 0 8px;
      font-size: 15px;
    }
    .accessibility-option {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 6px;
    }
    .accessibility-option label {
      cursor: pointer;
    }
    .accessibility-panel button.small-btn {
      margin-top: 6px;
      width: 100%;
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 12px;
      border: 1px solid #d1d5db;
      background: #f3f4f6;
      cursor: pointer;
    }

    /* Accessibility States */
    body.a11y-large-font {
      font-size: 115%;
    }
    body.a11y-high-contrast {
      background: #000000;
      color: #ffffff;
    }
    body.a11y-high-contrast a {
      color: #38bdf8;
    }
    body.a11y-underline-links a {
      text-decoration: underline;
    }
    body.a11y-dyslexic-font {
      font-family: "OpenDyslexic", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }
    body.a11y-dark-mode {
      background: #020617;
      color: #e5e7eb;
    }
    body.a11y-dark-mode .card,
    body.a11y-dark-mode .admin-box,
    body.a11y-dark-mode .accessibility-panel {
      background: #020617;
      color: #e5e7eb;
      border-color: #1f2937;
    }
    body.a11y-dark-mode footer {
      background: #020617;
    }
    body.a11y-spacing {
      line-height: 1.8;
    }
    body.a11y-strong-focus *:focus {
      outline: 3px solid #f97316;
      outline-offset: 3px;
    }
    body.a11y-reduced-motion * {
      scroll-behavior: auto !important;
      animation: none !important;
      transition: none !important;
    }
    body.a11y-grayscale {
      filter: grayscale(1);
    }

    /* Responsive */
    @media (max-width: 880px) {
      .hero-inner {
        grid-template-columns: minmax(0, 1fr);
      }
      .hero-image-wrapper {
        order: -1;
      }
      .hero-cta {
        flex-direction: column;
        align-items: stretch;
      }
      .appointments-layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }
  </style>
</head>
<body>
  <header class="hero">
    <div class="hero-inner">
      <div>
        <div class="hero-badges">
          <div class="hero-badge">×§×œ×™× ×™×§×ª ×›×™×¨×•×¤×¨×§×˜×™×§×” â€“ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ (Evan)</div>
          <div class="hero-badge">Dr. Evan Gershater Chiropractic Clinic</div>
        </div>
        <h1>×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ â€“ ×›×™×¨×•×¤×¨×§×˜ ××•××—×” ×œ×›××‘ ×’×‘ ×•×¦×•×•××¨</h1>
        <p>
          <strong>×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ (Dr. Evan Gershater)</strong> ××¦×™×¢ ×˜×™×¤×•×œ ×›×™×¨×•×¤×¨×§×˜×™ ×¢×“×™×Ÿ ×•××§×¦×•×¢×™,
          ××•×ª×× ××™×©×™×ª ××œ×™×›×, ×¢× ×“×’×© ×¢×œ ×—×–×¨×” ×œ×ª× ×•×¢×” ×—×•×¤×©×™×ª ×•×©×™×¤×•×¨ ××™×›×•×ª ×”×—×™×™×.
          × ×™×ª×Ÿ ×œ×”×–××™×Ÿ ×ª×•×¨ ×‘×§×œ×™×§ ×“×¨×š ×˜×œ×¤×•×Ÿ, ×•×•××˜×¡××¤ ××• ×˜×•×¤×¡ ×‘××ª×¨.
        </p>
        <p style="font-size:14px; margin-top:-8px; opacity:0.9;">
          Specialist chiropractic care by <strong>Dr. Evan Gershater</strong> focused on spine, posture and pain relief.
        </p>
        <div class="hero-cta">
          <a href="tel:0539240494" class="btn-primary" aria-label="×”×ª×§×©×¨ ×œ×§×‘×™×¢×ª ×ª×•×¨ ××¦×œ ×“×´×¨ ××•×•×Ÿ ×’×¨×©××˜×¨">
            ğŸ“ ×”×ª×§×©×¨×• ×¢×›×©×™×• ×œ×§×‘×™×¢×ª ×ª×•×¨ ××¦×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨
          </a>
          <a href="https://wa.me/972539240494?text=%D7%94%D7%99%D7%99%2C%20%D7%A8%D7%90%D7%99%D7%AA%D7%99%20%D7%90%D7%AA%20%D7%94%D7%A7%D7%9C%D7%99%D7%A0%D7%99%D7%A7%D7%94%20%D7%A9%D7%9C%20%D7%93%D7%A8%20%D7%90%D7%95%D7%95%D7%9F%20%D7%92%D7%A8%D7%A9%D7%90%D7%98%D7%A8%20Evan%20%D7%95%D7%A8%D7%95%D7%A6%D7%94%20%D7%9C%D7%A7%D7%91%D7%95%D7%A2%20%D7%AA%D7%95%D7%A8" class="btn-secondary" target="_blank" rel="noopener" aria-label="×©×œ×— ×”×•×“×¢×ª ×•×•××˜×¡××¤ ×œ×§×œ×™× ×™×§×”">
            ğŸ’¬ ×©×œ×™×—×ª ×”×•×“×¢×ª ×•×•××˜×¡××¤ ×œ×§×œ×™× ×™×§×”
          </a>
          <button class="btn-ghost" onclick="scrollToAppointments()" aria-label="×¢×‘×•×¨ ×œ×‘×“×™×§×ª ×ª×•×¨×™× ×¤× ×•×™×™×">×‘×“×™×§×ª ×ª×•×¨×™× ×¤× ×•×™×™×</button>
        </div>
        <div class="hero-note">
          ××¢× ×” ××”×™×¨ ×‘×©×¢×•×ª ×”×¤×¢×™×œ×•×ª. ×œ××—×¨ ×‘×™×§×•×¨ ××¦×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ ×ª×§×‘×œ×• ×”×•×“×¢×ª ×ª×•×“×” ××™×©×™×ª ×¢× ×‘×§×©×” ×œ×¤×™×“×‘×§.
        </div>
      </div>

      <div class="hero-image-wrapper">
        <div class="hero-main-image">
          <img src="https://images.pexels.com/photos/4506109/pexels-photo-4506109.jpeg?auto=compress&cs=tinysrgb&w=1200" alt="×˜×™×¤×•×œ ×›×™×¨×•×¤×¨×§×˜×™ ××¦×œ ×“×•×§×˜×•×¨ ××•×•×Ÿ Gershater" />
        </div>
        <div class="hero-floating-card">
          ğŸ“ ×§×œ×™× ×™×§×ª ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ ××©×œ×‘×ª ××§×¦×•×¢×™×•×ª, ×™×—×¡ ××™×©×™ ×•×˜×™×¤×•×œ ×¢×“×™×Ÿ.
        </div>
      </div>
    </div>
  </header>

  <main>
    <section id="about" role="region" aria-label="×œ××™ ××ª××™× ×”×˜×™×¤×•×œ">
      <h2>×œ××™ ××ª××™× ×”×˜×™×¤×•×œ ××¦×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨</h2>
      <p class="section-subtitle">
        ×‘×§×œ×™× ×™×§×” ×©×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ ××˜×¤×œ×™× ×‘××‘×•×’×¨×™×, ×‘× ×™ × ×•×¢×¨ ×•×¡×¤×•×¨×˜××™× ×”×¡×•×‘×œ×™× ××›××‘×™ ×’×‘ ×ª×—×ª×•×Ÿ, ×¦×•×•××¨,
        ×›××‘×™ ×¨××©, ×”×§×¨× ×•×ª ×œ×™×“×™×™× ××• ×œ×¨×’×œ×™×™×, ×‘×¢×™×•×ª ×™×¦×™×‘×” ×•×¢×•×“.
      </p>
      <div class="cards-grid">
        <div class="card" role="article">
          <h3>×›××‘ ×’×‘ ×•×¦×•×•××¨ ×›×¨×•× ×™</h3>
          <p>
            ×”×ª×××•×ª ×¢×“×™× ×•×ª ×œ×¢××•×“ ×”×©×“×¨×” ×•×ª×›× ×™×ª ×˜×™×¤×•×œ ××•×‘× ×™×ª ×©×™×›×•×œ×•×ª ×œ×”×¤×—×™×ª ×¢×•××¡, ×œ×©×—×¨×¨ ×©×¨×™×¨×™×
            ×•×œ×”×—×–×™×¨ ×ª× ×•×¢×” ×—×•×¤×©×™×ª ×œ××¤×¨×§×™× ×‘×”×•×‘×œ×ª ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨.
          </p>
          <div class="pill-row">
            <span class="pill">×™×©×™×‘×” ×××•×©×›×ª</span>
            <span class="pill">×¢×‘×•×“×” ××•×œ ××—×©×‘</span>
            <span class="pill">× ×”×™×’×” ××¨×•×‘×”</span>
          </div>
        </div>
        <div class="card" role="article">
          <h3>×¡×¤×•×¨×˜××™× ×•××•×¨×— ×—×™×™× ×¤×¢×™×œ</h3>
          <p>
            ×ª××™×›×” ×‘×”×ª××•×©×©×•×ª ××¤×¦×™×¢×•×ª, ×©×™×¤×•×¨ ×˜×•×•×—×™ ×ª× ×•×¢×” ×•×©××™×¨×” ×¢×œ ×’×•×£ ×××•×–×Ÿ ×œ×¤× ×™ ×•×‘××”×œ×š ×¤×¢×™×œ×•×ª
            ×¡×¤×•×¨×˜×™×‘×™×ª ××™× ×˜× ×¡×™×‘×™×ª, ×ª×•×š ×”×ª×××” ××™×©×™×ª ×¢×œ ×™×“×™ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨.
          </p>
          <div class="pill-row">
            <span class="pill">×¤×¦×™×¢×•×ª ×—×•×–×¨×•×ª</span>
            <span class="pill">×”×›× ×” ×œ××¨×ª×•×Ÿ</span>
          </div>
        </div>
        <div class="card" role="article">
          <h3>×× ×™×¢×” ×•×©×™×¤×•×¨ ××™×›×•×ª ×—×™×™×</h3>
          <p>
            ×’× ×œ×œ× ×›××‘ ××™×™×“×™, ×‘×™×§×•×¨×™× ×ª×§×•×¤×ª×™×™× ××¦×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ ×™×›×•×œ×™× ×œ×¢×–×•×¨ ×‘×©××™×¨×” ×¢×œ ×™×¦×™×‘×” ×˜×•×‘×”,
            ×”×¤×—×ª×ª ×¢×•××¡×™× ×•×× ×™×¢×ª ×‘×¢×™×•×ª ×¢×ª×™×“×™×•×ª.
          </p>
          <div class="pill-row">
            <span class="pill">×‘×¨×™××•×ª ×œ××•×¨×š ×–××Ÿ</span>
            <span class="pill">×©×™× ×” ×˜×•×‘×” ×™×•×ª×¨</span>
          </div>
        </div>
      </div>
    </section>

    <section id="gallery" role="region" aria-label="×’×œ×¨×™×™×ª ×”×§×œ×™× ×™×§×”">
      <h2>×”×§×œ×™× ×™×§×” ×•×”××•×•×™×¨×”</h2>
      <p class="section-subtitle">
        ×”×¦×¦×” ×œ××¨×—×‘ ×”×˜×™×¤×•×œ×™ ×©×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ ×›×“×™ ×©×ª×•×›×œ×• ×œ×”×¨×’×™×© ×‘×‘×™×ª ×¢×•×“ ×œ×¤× ×™ ×©×ª×’×™×¢×•.
      </p>
      <div class="cards-grid">
        <div class="card image-card" role="article">
          <img src="https://images.pexels.com/photos/4506105/pexels-photo-4506105.jpeg?auto=compress&cs=tinysrgb&w=1200" alt="×—×“×¨ ×˜×™×¤×•×œ×™× ×›×™×¨×•×¤×¨×§×˜×™" />
          <div class="image-card-content">
            <h3>×—×“×¨ ×˜×™×¤×•×œ×™× ××¨×•×•×—</h3>
            <p>××™×˜×” ××§×¦×•×¢×™×ª, ×ª××•×¨×” ×¨×’×•×¢×” ×•××•×–×™×§×” × ×¢×™××” ×”××•×ª×××ª ×œ×˜×™×¤×•×œ ×›×™×¨×•×¤×¨×§×˜×™.</p>
          </div>
        </div>
        <div class="card image-card" role="article">
          <img src="https://images.pexels.com/photos/4506107/pexels-photo-4506107.jpeg?auto=compress&cs=tinysrgb&w=1200" alt="××˜×•×¤×œ×ª ×‘×˜×™×¤×•×œ ×›×™×¨×•×¤×¨×§×˜×™" />
          <div class="image-card-content">
            <h3>×™×—×¡ ××™×©×™ ×©×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨</h3>
            <p>×›×œ ×˜×™×¤×•×œ ××ª×—×™×œ ×‘×”×§×©×‘×” ××œ××” ×œ×¡×™×¤×•×¨ ×”××™×©×™ ×©×œ×›× ×•×”×ª×××” ×œ×¦×¨×›×™× ×”×™×™×—×•×“×™×™×.</p>
          </div>
        </div>
        <div class="card" role="article">
          <h3>××˜×•×¤×œ×™× ××¡×¤×¨×™×</h3>
          <p class="testimonial">
            "×”×’×¢×ª×™ ×œ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ ×¢× ×›××‘×™ ×’×‘ ×—×–×§×™× ××—×¨×™ ×™×©×™×‘×” ×××•×©×›×ª ×‘×¢×‘×•×“×”. ××—×¨×™ ××¡×¤×¨ ×˜×™×¤×•×œ×™×
            ×”×¨×’×©×ª×™ ×©×™×¤×•×¨ ××©××¢×•×ª×™, ×•×”×™×•× ×× ×™ ××¦×œ×™×— ×œ×©××•×¨ ×¢×œ ×©×’×¨×” ×›××¢×˜ ×‘×œ×™ ×›××‘ ×‘×›×œ×œ."
            <strong>××³ ××”××¨×›×–, ×¢×•×‘×“ ×”×™×™×˜×§</strong>
          </p>
        </div>
      </div>
    </section>

    <section id="appointments" role="region" aria-label="×‘×“×™×§×ª ×ª×•×¨×™× ×•×§×‘×™×¢×ª ×ª×•×¨">
      <h2>×‘×“×™×§×ª ×ª×•×¨×™× ×¤× ×•×™×™× ×•×§×‘×™×¢×ª ×ª×•×¨ ××¦×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨</h2>
      <p class="section-subtitle">
        ×›××Ÿ × ×™×ª×Ÿ ×œ×‘×“×•×§ ×ª×•×¨×™× ×–××™× ×™× ×¢×œ ×¤×™ ×™××™× ×•×©×¢×•×ª ×•×œ×”×ª××™× ××ª ×”×”××©×š ×œ×¦×¨×›×™× ×©×œ ×§×œ×™× ×™×§×ª ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨.
        ×‘×”××©×š × ×™×ª×Ÿ ×œ×—×‘×¨ ××ª ×œ×•×— ×”×ª×•×¨×™× ×™×©×™×¨×•×ª ×œ×’×•×’×œ ×©×™×˜×¡ ×•×™×•××Ÿ ×’×•×’×œ.
      </p>
      <div class="appointments-layout">
        <div class="card" role="form" aria-label="×˜×•×¤×¡ ×—×™×¤×•×© ×ª×•×¨ ×¤× ×•×™">
          <h3>×—×™×¤×•×© ×ª×•×¨ ×¤× ×•×™</h3>
          <p style="font-size:14px; color:#4b5563; margin-bottom:16px;">
            ×‘×—×¨×• ×ª××¨×™×š ××•×¢×“×£ ×•×× ×—× ×• × ×¦×™×’ ×ª×•×¨×™× ×¤× ×•×™×™× ×œ×“×•×’××”. ×‘×”××©×š × ×™×ª×Ÿ ×œ×—×‘×¨ ×–××ª ×œ××§×•×¨ ×—×™×¦×•× ×™
            ×›××• ×’×•×’×œ ×©×™×˜×¡ ××• ×™×•××Ÿ ×’×•×’×œ ×›×“×™ ×©×”× ×ª×•× ×™× ×™×ª×¢×“×›× ×• ××•×˜×•××˜×™×ª.
          </p>
          <div class="field-row">
            <label for="dateInput">×ª××¨×™×š</label>
            <input type="date" id="dateInput" aria-label="×‘×—×¨ ×ª××¨×™×š ×œ×‘×“×™×§×ª ×ª×•×¨×™×" />
          </div>
          <button class="btn-primary" style="width:100%; justify-content:center; margin-top:4px;" onclick="searchAppointments()" aria-label="×—×¤×© ×ª×•×¨×™× ×¤× ×•×™×™×">
            ×—×™×¤×•×© ×ª×•×¨×™× ×œ×ª××¨×™×š ×©× ×‘×—×¨
          </button>
          <div id="appointmentsList" class="appointments-list" role="list" aria-live="polite"></div>
        </div>

        <div class="card" role="form" aria-label="×˜×•×¤×¡ ×”×©××¨×ª ×¤×¨×˜×™×">
          <h3>×”×©××¨×ª ×¤×¨×˜×™× ××”×™×¨×”</h3>
          <p style="font-size:14px; color:#4b5563; margin-bottom:10px;">
            ××œ××• ×¤×¨×˜×™× ×§×¦×¨×™× ×•× ×—×–×•×¨ ××œ×™×›× ×¢× ×”×¦×¢×ª ×ª×•×¨ ××ª××™××” ××¦×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨.
          </p>
          <div class="field-row">
            <input type="text" id="leadName" placeholder="×©× ××œ×" aria-label="×©× ××œ×" />
          </div>
          <div class="field-row">
            <input type="text" id="leadPhone" placeholder="×˜×œ×¤×•×Ÿ" aria-label="××¡×¤×¨ ×˜×œ×¤×•×Ÿ" />
          </div>
          <div class="field-row">
            <input type="text" id="leadReason" placeholder="×¡×™×‘×” ×œ×¤× ×™×™×” ×‘×§×¦×¨×”" aria-label="×¡×™×‘×” ×œ×¤× ×™×™×”" />
          </div>

          <!-- ×—×“×©: ×“×¨×š ××™ ×”×’×¢×ª× ××œ×™×™? (×œ× ×—×•×‘×”) -->
          <div class="field-row">
            <input type="text" id="leadReferral" placeholder="×“×¨×š ××™ ×”×’×¢×ª× ××œ×™×™? (×œ× ×—×•×‘×”)" aria-label="×“×¨×š ××™ ×”×’×¢×ª× ××œ×™×™" />
          </div>

          <!-- ×—×“×©: ×‘×—×¨×• ×ª××¨×™×š ×œ×˜×™×¤×•×œ -->
          <div class="field-row">
            <label for="leadRequestedDate" style="min-width:110px;">×‘×—×¨×• ×ª××¨×™×š ×œ×˜×™×¤×•×œ</label>
            <input type="date" id="leadRequestedDate" aria-label="×‘×—×¨×• ×ª××¨×™×š ×œ×˜×™×¤×•×œ" />
          </div>

          <button class="btn-secondary" style="width:100%; justify-content:center; margin-top:4px;" onclick="submitLead()" aria-label="×©×œ×— ×¤×¨×˜×™× ×œ×ª×™××•× ×ª×•×¨">
            ×©×œ×™×—×ª ×¤×¨×˜×™× ×•×ª×™××•× ×©×™×—×”
          </button>
          <div id="leadMessage" style="margin-top:10px; font-size:13px;" role="alert" aria-live="polite"></div>
        </div>
      </div>
    </section>

    <section id="admin" role="region" aria-label="××–×•×¨ × ×™×”×•×œ ×œ×× ×”×œ">
      <h2>××–×•×¨ ××™×©×™ ×œ×× ×”×œ ×§×œ×™× ×™×§×ª ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨</h2>
      <p class="section-subtitle">
        ×›××Ÿ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ ×™×›×•×œ ×œ×”×™×›× ×¡ ×‘×××¦×¢×•×ª ×¡×™×¡××” ×–×× ×™×ª, ×œ×”×—×œ×™×£ ×¡×™×¡××”, ×œ× ×”×œ ××©×™××•×ª,
        ×œ×¢×“×›×Ÿ ×ª×•×¨×™× ×•×œ×ª×›× ×Ÿ ××ª ×”×™×•× ×“×¨×š ×ª×¦×•×’×ª ×œ×•×— ×©× ×” ×•×ª××™××•×ª ×œ×’×•×’×œ ×™×•××Ÿ ×•×’×•×’×œ ×©×™×˜×¡.
      </p>

      <div class="cards-grid">
        <div class="admin-box" aria-label="××–×•×¨ × ×™×”×•×œ" role="region">
          <h3>×›× ×™×¡×” ×œ××–×•×¨ ×”× ×™×”×•×œ</h3>
          <small>×¡×™×¡××” ×”×ª×—×œ×ª×™×ª ×œ×“×•×’××”: 123456. ××•××œ×¥ ×œ×”×—×œ×™×£ ××™×“ ×œ××—×¨ ×”×›× ×™×¡×”.</small>
          <div class="field-row" style="margin-bottom:8px;">
            <label for="adminPassword">×¡×™×¡××ª ×× ×”×œ</label>
            <input type="password" id="adminPassword" placeholder="×”×§×œ×“ ×¡×™×¡××”" aria-label="×”×–×Ÿ ×¡×™×¡××ª ×× ×”×œ" />
          </div>
          <button class="btn-secondary" style="width:100%; justify-content:center;" onclick="toggleAdminPanel()" aria-label="×›× ×™×¡×” ××• ×™×¦×™××” ×××–×•×¨ ×”× ×™×”×•×œ">
            ×›× ×™×¡×” ××• ×™×¦×™××” ×××–×•×¨ ×”× ×™×”×•×œ
          </button>
          <div id="adminLoginStatus" style="margin-top:6px; font-size:12px;" role="alert" aria-live="polite"></div>

          <div id="adminPanel" class="admin-inner" style="display:none;">
            <h3 style="font-size:15px; margin-bottom:6px;">×”×•×“×¢×ª ×ª×•×“×” ××•×‘× ×™×ª</h3>
            <small>
              ×”×•×“×¢×” ×–×• ×ª×•×›×œ ×œ×”×™×©×œ×— ××•×˜×•××˜×™×ª ×œ××—×¨ ×‘×™×§×•×¨ ×‘×§×œ×™× ×™×§×” ×©×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ ×“×¨×š ××¢×¨×›×ª ×”×•×“×¢×•×ª ×—×™×¦×•× ×™×ª.
            </small>
            <textarea id="thankYouTemplate" aria-label="×ª×‘× ×™×ª ×”×•×“×¢×ª ×ª×•×“×”">×ª×•×“×” ×©×‘×™×§×¨×ª× ××¦×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨. × ×©××— ×××•×“ ×× ×ª×©×ª×¤×• ××•×ª× ×• ×‘×—×•×•×™×™×ª ×”×˜×™×¤×•×œ ×•×ª×™×ª× ×• ×œ× ×• ×¤×™×“×‘×§ ×§×¦×¨. ×‘×¨×™××•×ª ×©×œ××”.</textarea>
            <button class="btn-primary" style="margin-top:8px;" onclick="saveTemplate()" aria-label="×©××•×¨ ×ª×‘× ×™×ª ×”×•×“×¢×ª ×ª×•×“×”">
              ×©××™×¨×ª ×ª×‘× ×™×ª ×”×”×•×“×¢×”
            </button>
            <div id="templateStatus" style="margin-top:6px; font-size:12px; color:#bbf7d0;" role="alert" aria-live="polite"></div>

            <h3 style="font-size:15px; margin:16px 0 6px;">×©×™× ×•×™ ×¡×™×¡××ª ×× ×”×œ</h3>
            <small>×›××Ÿ × ×™×ª×Ÿ ×œ×”×—×œ×™×£ ××ª ×”×¡×™×¡××” ×”×–×× ×™×ª 123456 ×œ×¡×™×¡××” ××™×©×™×ª.</small>
            <div class="field-row">
              <input type="password" id="currentPassword" placeholder="×¡×™×¡××” × ×•×›×—×™×ª" aria-label="×¡×™×¡××” × ×•×›×—×™×ª" />
            </div>
            <div class="field-row">
              <input type="password" id="newPassword" placeholder="×¡×™×¡××” ×—×“×©×”" aria-label="×¡×™×¡××” ×—×“×©×”" />
            </div>
            <div class="field-row">
              <input type="password" id="confirmPassword" placeholder="××™×©×•×¨ ×¡×™×¡××” ×—×“×©×”" aria-label="××™×©×•×¨ ×¡×™×¡××” ×—×“×©×”" />
            </div>
            <button class="btn-ghost" style="width:100%; justify-content:center;" onclick="changeAdminPassword()" aria-label="×©××•×¨ ×¡×™×¡××” ×—×“×©×”">
              ×©××™×¨×ª ×¡×™×¡××” ×—×“×©×”
            </button>
            <div id="passwordStatus" style="margin-top:6px; font-size:12px;" role="alert" aria-live="polite"></div>

            <h3 style="font-size:15px; margin:18px 0 6px;">××©×™××•×ª × ×™×”×•×œ ×™×•××™×•×ª</h3>
            <small>× ×™×”×•×œ ××©×™××•×ª ×›××• ×©×™×—×•×ª ×—×–×¨×” ×œ××˜×•×¤×œ×™×, ×¢×“×›×•×Ÿ ×™×•××Ÿ, ×¡×™×“×•×¨ ×—×“×¨ ×”×˜×™×¤×•×œ×™× ×•×¢×•×“.</small>
            <div class="field-row">
              <input type="text" id="taskText" placeholder="××©×™××” ×—×“×©×”" aria-label="×ª×™××•×¨ ××©×™××” ×—×“×©×”" />
            </div>
            <div class="field-row">
              <label for="taskDue">×ª××¨×™×š ×™×¢×“</label>
              <input type="date" id="taskDue" aria-label="×ª××¨×™×š ×™×¢×“ ×œ××©×™××”" />
            </div>
            <button class="btn-primary" style="width:100%; justify-content:center;" onclick="addTask()" aria-label="×”×•×¡×£ ××©×™××” ×—×“×©×”">
              ×”×•×¡×¤×ª ××©×™××”
            </button>
            <div id="tasksList" style="margin-top:10px;" role="list" aria-live="polite"></div>

            <h3 style="font-size:15px; margin:18px 0 6px;">×œ×•×— ×©× ×” ×™×•××™</h3>
            <small>
              ×œ×•×— ×™×•× ××¡×•×“×¨ ×¢× ××¤×©×¨×•×ª ×œ×“×¤×“×•×£ ×™×•× ×§×•×“× / ×”×‘×. × ×™×ª×Ÿ ×œ×—×‘×¨ ×–××ª ×œ×™×•××Ÿ ×’×•×’×œ ×‘×××¦×¢×•×ª API ××• ×”×˜××¢×ª iframe.
            </small>
            <div id="calendarDemo" style="margin-top:8px; font-size:13px;" role="region" aria-label="×œ×•×— ×©× ×” ×™×•××™" aria-live="polite"></div>

            <h3 style="font-size:15px; margin:18px 0 6px;">×¡× ×›×¨×•×Ÿ ×’×•×’×œ ×©×™×˜×¡ ×‘×–××Ÿ ×××ª</h3>
            <small>
              ×—×™×‘×•×¨ ××œ× ×œ×’×•×’×œ ×©×™×˜×¡ ×¢× ×¡× ×›×¨×•×Ÿ ×“×•-×›×™×•×•× ×™. ×”×–×Ÿ ××ª ×›×ª×•×‘×ª ×”-Web App ×©×œ×š ×•×”××¢×¨×›×ª ×ª×¡× ×›×¨×Ÿ ××•×˜×•××˜×™×ª.
            </small>
            <div class="field-row" style="margin-top:6px;">
              <label for="sheetsUrl" style="min-width:90px;">×›×ª×•×‘×ª Web App</label>
              <input type="text" id="sheetsUrl" placeholder="https://script.google.com/macros/s/XXXXX/exec" aria-label="×›×ª×•×‘×ª Google Apps Script Web App" />
            </div>
            <div style="display:flex; gap:6px; margin-top:6px;">
              <button class="btn-ghost" style="flex:1; justify-content:center;" onclick="importFromSheets()" aria-label="×™×™×‘× ×ª×•×¨×™× ××’×•×’×œ ×©×™×˜×¡">
                ğŸ“¥ ×™×™×‘×•× ×ª×•×¨×™×
              </button>
              <button class="btn-ghost" style="flex:1; justify-content:center;" onclick="exportToSheets()" aria-label="×™×™×¦× ×ª×•×¨×™× ×œ×’×•×’×œ ×©×™×˜×¡">
                ğŸ“¤ ×™×™×¦×•× ×ª×•×¨×™×
              </button>
            </div>
            <div style="display:flex; gap:6px; margin-top:6px;">
              <button class="btn-ghost" style="flex:1; justify-content:center; font-size:12px;" onclick="startAutoSync()" aria-label="×”×¤×¢×œ ×¡× ×›×¨×•×Ÿ ××•×˜×•××˜×™">
                ğŸ”„ ×¡× ×›×¨×•×Ÿ ××•×˜×•××˜×™
              </button>
              <button class="btn-ghost" style="flex:1; justify-content:center; font-size:12px;" onclick="stopAutoSync()" aria-label="×¢×¦×•×¨ ×¡× ×›×¨×•×Ÿ ××•×˜×•××˜×™">
                â¸ï¸ ×¢×¦×•×¨ ×¡× ×›×¨×•×Ÿ
              </button>
            </div>
            <div id="sheetsStatus" style="margin-top:6px; font-size:12px;" role="alert" aria-live="polite"></div>
            
            <details style="margin-top:12px; font-size:12px; color:#9ca3af;">
              <summary style="cursor:pointer; padding:4px 0;">ğŸ“– ×”×•×¨××•×ª ×—×™×‘×•×¨ ×œ×’×•×’×œ ×©×™×˜×¡</summary>
              <div style="padding:8px 0; line-height:1.6;">
                <strong>×©×œ×‘ 1:</strong> ×¦×•×¨ ×’×™×œ×™×•×Ÿ ×—×“×© ×‘-Google Sheets<br>
                <strong>×©×œ×‘ 2:</strong> ×¢×‘×•×¨ ×œ-Extensions â†’ Apps Script<br>
                <strong>×©×œ×‘ 3:</strong> ×”×¢×ª×§ ××ª ×”×§×•×“ ×”×‘×:<br>
                <code style="display:block; background:#1e293b; padding:8px; border-radius:8px; margin:6px 0; overflow-x:auto; direction:ltr; text-align:left;">
function doGet(e) {
  const sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName('×ª×•×¨×™×');
  const data = sheet.getDataRange().getValues();
  const appointments = data.slice(1).map(row => ({
    date: row[0],
    time: row[1],
    status: row[2]
  }));
  return ContentService.createTextOutput(JSON.stringify({
    success: true,
    appointments: appointments
  })).setMimeType(ContentService.MimeType.JSON);
}

function doPost(e) {
  const data = JSON.parse(e.postData.contents);
  const sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName('×ª×•×¨×™×');
  sheet.clear();
  sheet.appendRow(['×ª××¨×™×š', '×©×¢×”', '×¡×˜×˜×•×¡']);
  data.data.appointments.forEach(apt => {
    sheet.appendRow([apt.date, apt.time, apt.status]);
  });
  return ContentService.createTextOutput(JSON.stringify({
    success: true
  })).setMimeType(ContentService.MimeType.JSON);
}
                </code>
                <strong>×©×œ×‘ 4:</strong> ×œ×—×¥ Deploy â†’ New deployment<br>
                <strong>×©×œ×‘ 5:</strong> ×‘×—×¨ "Web app" ×•×”×’×“×¨ ×’×™×©×” ×œ-"Anyone"<br>
                <strong>×©×œ×‘ 6:</strong> ×”×¢×ª×§ ××ª ×›×ª×•×‘×ª ×”-URL ×•×”×“×‘×§ ×›××Ÿ ×œ××¢×œ×”
              </div>
            </details>
          </div>
        </div>

        <div class="card" role="article">
          <h3>××¢×¨×›×ª ×‘×“×™×§×ª ×ª×§×™× ×•×ª ××•×˜×•××˜×™×ª</h3>
          <p style="font-size:14px; color:#4b5563; margin-bottom:12px;">
            ×”××¢×¨×›×ª ×‘×•×“×§×ª ××•×˜×•××˜×™×ª ××ª ×ª×§×™× ×•×ª ×›×œ ×”×¨×›×™×‘×™×, ×”× ×’×™×©×•×ª, ×”×—×™×‘×•×¨×™× ×•×”×¤×•× ×§×¦×™×•×ª.
            ×¡×˜×˜×•×¡ ×¢×“×›× ×™:
          </p>
          <div id="diagnosticsStatus" style="padding:12px; background:#f9fafb; border-radius:12px; font-size:13px; margin-bottom:10px;" role="status" aria-live="polite">
            â³ ××¨×™×¥ ×‘×“×™×§×ª ×ª×§×™× ×•×ª...
          </div>
          <button class="btn-primary" style="width:100%; justify-content:center;" onclick="runDiagnostics()" aria-label="×”×¨×¥ ×‘×“×™×§×ª ×ª×§×™× ×•×ª ××—×“×©">
            ğŸ” ×”×¨×¥ ×‘×“×™×§×ª ×ª×§×™× ×•×ª ××—×“×©
          </button>
          <div style="margin-top:10px; padding:10px; background:#eff6ff; border-radius:8px; font-size:12px; color:#1e40af;">
            ğŸ’¡ <strong>×˜×™×¤:</strong> ×¤×ª×— ××ª ×”×§×•× ×¡×•×œ (F12) ×›×“×™ ×œ×¨××•×ª ×“×•×— ××¤×•×¨×˜ ×©×œ ×›×œ ×”×‘×“×™×§×•×ª
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer role="contentinfo">
    <button class="btn-ghost" style="margin-bottom:10px;" onclick="runDiagnostics()" aria-label="×”×¨×¥ ×‘×“×™×§×ª ×ª×§×™× ×•×ª ××¢×¨×›×ª">
      ğŸ” ×”×¨×¥ ×‘×“×™×§×ª ×ª×§×™× ×•×ª
    </button>
    <br>
    ×§×œ×™× ×™×§×ª ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ â€“ ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª Â© 2025<br />
    Dr. Evan Gershater Chiropractic Clinic â€“ All rights reserved Â© 2025
  </footer>

  <!-- ×›×¤×ª×•×¨ ×•×ª×¤×¨×™×˜ × ×’×™×©×•×ª -->
  <button class="accessibility-toggle" aria-label="×¤×ª×™×—×ª ×ª×¤×¨×™×˜ × ×’×™×©×•×ª" onclick="toggleAccessibilityPanel()">â™¿</button>
  <div id="accessibilityPanel" class="accessibility-panel" role="dialog" aria-label="×ª×¤×¨×™×˜ × ×’×™×©×•×ª" aria-hidden="true">
    <h3>×”×’×“×¨×•×ª × ×’×™×©×•×ª</h3>
    <div class="accessibility-option">
      <input type="checkbox" id="optLargeFont" onchange="toggleAccessibilityOption('largeFont', this.checked)" aria-label="×”×’×“×œ×ª ×’×•×“×œ ×’×•×¤×Ÿ" />
      <label for="optLargeFont">×”×’×“×œ×ª ×’×•×“×œ ×’×•×¤×Ÿ</label>
    </div>
    <div class="accessibility-option">
      <input type="checkbox" id="optHighContrast" onchange="toggleAccessibilityOption('highContrast', this.checked)" aria-label="× ×™×’×•×“×™×•×ª ×’×‘×•×”×”" />
      <label for="optHighContrast">× ×™×’×•×“×™×•×ª ×’×‘×•×”×”</label>
    </div>
    <div class="accessibility-option">
      <input type="checkbox" id="optDarkMode" onchange="toggleAccessibilityOption('darkMode', this.checked)" aria-label="××¦×‘ ×›×”×”" />
      <label for="optDarkMode">××¦×‘ ×›×”×”</label>
    </div>
    <div class="accessibility-option">
      <input type="checkbox" id="optUnderline" onchange="toggleAccessibilityOption('underlineLinks', this.checked)" aria-label="×”×“×’×©×ª ×§×™×©×•×¨×™× ×‘×§×• ×ª×—×ª×•×Ÿ" />
      <label for="optUnderline">×”×“×’×©×ª ×§×™×©×•×¨×™× ×‘×§×• ×ª×—×ª×•×Ÿ</label>
    </div>
    <div class="accessibility-option">
      <input type="checkbox" id="optDyslexic" onchange="toggleAccessibilityOption('dyslexicFont', this.checked)" aria-label="×’×•×¤×Ÿ ×™×“×™×“×•×ª×™ ×œ×“×™×¡×œ×§×¦×™×”" />
      <label for="optDyslexic">×’×•×¤×Ÿ ×™×“×™×“×•×ª×™ ×œ×“×™×¡×œ×§×¦×™×”</label>
    </div>
    <div class="accessibility-option">
      <input type="checkbox" id="optSpacing" onchange="toggleAccessibilityOption('spacing', this.checked)" aria-label="×”×’×“×œ×ª ×¨×™×•×•×— ×©×•×¨×•×ª" />
      <label for="optSpacing">×”×’×“×œ×ª ×¨×™×•×•×— ×©×•×¨×•×ª</label>
    </div>
    <div class="accessibility-option">
      <input type="checkbox" id="optFocus" onchange="toggleAccessibilityOption('strongFocus', this.checked)" aria-label="×”×“×’×©×ª ×¤×•×§×•×¡ ×œ××§×œ×“×ª" />
      <label for="optFocus">×”×“×’×©×ª ×¤×•×§×•×¡ ×œ××§×œ×“×ª</label>
    </div>
    <div class="accessibility-option">
      <input type="checkbox" id="optReducedMotion" onchange="toggleAccessibilityOption('reducedMotion', this.checked)" aria-label="×¦××¦×•× ×× ×™××¦×™×•×ª ×•×ª×–×•×–×•×ª" />
      <label for="optReducedMotion">×¦××¦×•× ×× ×™××¦×™×•×ª ×•×ª×–×•×–×•×ª</label>
    </div>
    <div class="accessibility-option">
      <input type="checkbox" id="optGrayscale" onchange="toggleAccessibilityOption('grayscale', this.checked)" aria-label="××¦×‘ ×’×•×•× ×™ ××¤×•×¨" />
      <label for="optGrayscale">××¦×‘ ×’×•×•× ×™ ××¤×•×¨</label>
    </div>
    <button class="small-btn" onclick="resetAccessibility()" aria-label="××™×¤×•×¡ ×›×œ ×”×’×“×¨×•×ª ×”× ×’×™×©×•×ª">××™×¤×•×¡ ×”×’×“×¨×•×ª × ×’×™×©×•×ª</button>
  </div>

  <script>
    // ==========================
    // Leads â†’ Google Sheets (Web App)
    // ==========================
    // ×”×“×‘×§ ×›××Ÿ ××ª ×›×ª×•×‘×ª ×”-Web App ××”-Deploy (××¡×ª×™×™× ×‘ /exec)
    const LEADS_WEBAPP_URL = "https://script.google.com/macros/s/AKfycbzmetddPGvpMLmRkYPEtbyAJ35L6LR9ne36uTdexEFu9rARZCIgKeLcH3WKqDTnAFKc/exec";

    function getReferralFromUrl_() {
      try {
        const params = new URLSearchParams(window.location.search);
        return (
          params.get("ref") ||
          params.get("utm_source") ||
          params.get("utm_campaign") ||
          params.get("utm_medium") ||
          ""
        );
      } catch (e) {
        return "";
      }
    }

    function pad2_(n) {
      return String(n).padStart(2, "0");
    }

    // DD/MM/YY
    function formatDateDDMMYY_(dateObj) {
      const d = new Date(dateObj);
      const dd = pad2_(d.getDate());
      const mm = pad2_(d.getMonth() + 1);
      const yy = String(d.getFullYear()).slice(-2);
      return `${dd}/${mm}/${yy}`;
    }

    // "YYYY-MM-DD" -> "DD/MM/YY"
    function formatYMDToDDMMYY_(ymd) {
      if (!ymd || typeof ymd !== "string" || !ymd.includes("-")) return "";
      const [y, m, d] = ymd.split("-");
      if (!y || !m || !d) return "";
      return `${pad2_(d)}/${pad2_(m)}/${String(y).slice(-2)}`;
    }

    function getTodayYMD_() {
      const now = new Date();
      const y = now.getFullYear();
      const m = pad2_(now.getMonth() + 1);
      const d = pad2_(now.getDate());
      return `${y}-${m}-${d}`;
    }

    function getTomorrowYMD_() {
      const now = new Date();
      now.setDate(now.getDate() + 1);
      const y = now.getFullYear();
      const m = pad2_(now.getMonth() + 1);
      const d = pad2_(now.getDate());
      return `${y}-${m}-${d}`;
    }

    // ×—×¡×™××”: ×× ×¢×›×©×™×• 18:00 ×•××¢×œ×” - ××™ ××¤×©×¨ ×œ×‘×—×•×¨ ×”×™×•×
    function computeMinTreatmentDateYMD_() {
      const now = new Date();
      const isAfterSix = now.getHours() >= 18;
      return isAfterSix ? getTomorrowYMD_() : getTodayYMD_();
    }

    function validateRequestedDate_(requestedYMD) {
      const now = new Date();
      const todayYMD = getTodayYMD_();

      if (!requestedYMD) {
        return { ok: false, message: "× × ×œ×‘×—×•×¨ ×ª××¨×™×š ×œ×˜×™×¤×•×œ ×›×“×™ ×©× ×•×›×œ ×œ×ª×× × ×›×•×Ÿ." };
      }

      // ×œ× ×ª××¨×™×š ×‘×¢×‘×¨
      const minYMD = computeMinTreatmentDateYMD_();
      if (requestedYMD < minYMD) {
        const minNice = formatYMDToDDMMYY_(minYMD);
        return { ok: false, message: `×œ× × ×™×ª×Ÿ ×œ×‘×—×•×¨ ×ª××¨×™×š ×¢×‘×¨. ×”×ª××¨×™×š ×”××•×§×“× ×‘×™×•×ª×¨ ×œ×‘×—×™×¨×” ×”×•× ${minNice}.` };
      }

      // ×× ×‘×—×¨×• ×”×™×•× ××—×¨×™ 18:00 (×œ×™×ª×¨ ×‘×™×˜×—×•×Ÿ)
      if (requestedYMD === todayYMD && now.getHours() >= 18) {
        const tomorrowNice = formatYMDToDDMMYY_(getTomorrowYMD_());
        return { ok: false, message: `×œ× × ×™×ª×Ÿ ×œ×‘×—×•×¨ ××ª ×”×™×•× ××—×¨×™ 18:00. × × ×œ×‘×—×•×¨ ×”×—×œ ×-${tomorrowNice}.` };
      }

      return { ok: true, message: "" };
    }

    async function postLeadToSheets_(payload) {
      if (!LEADS_WEBAPP_URL || LEADS_WEBAPP_URL.includes("PASTE_YOUR_WEB_APP_URL_HERE")) {
        throw new Error("×—×¡×¨ LEADS_WEBAPP_URL. ×”×“×‘×§ ××ª ×›×ª×•×‘×ª ×”-Web App ×©×œ Apps Script.");
      }

      // × ×™×¡×™×•×Ÿ CORS ××œ×
      try {
        const res = await fetch(LEADS_WEBAPP_URL, {
          method: "POST",
          mode: "cors",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        const text = await res.text();
        let json = {};
        try { json = JSON.parse(text || "{}"); } catch (_) {}

        if (!res.ok || json.success === false) {
          throw new Error(json.error || "×©×’×™××” ×‘×©×œ×™×—×ª ×¤×¨×˜×™×");
        }
        return { success: true };

      } catch (err) {
        // fallback no-cors (×× ×’×•×’×œ ×—×•×¡× CORS)
        await fetch(LEADS_WEBAPP_URL, {
          method: "POST",
          mode: "no-cors",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
        return { success: true, note: "no-cors fallback" };
      }
    }

    // ==========================
    // × ×ª×•× ×™ ×“××• ×¨××©×•× ×™×™×
    // ==========================
    let sampleAppointments = [
      { date: "2025-11-17", time: "09:00", status: "×¤× ×•×™" },
      { date: "2025-11-17", time: "11:30", status: "×¤× ×•×™" },
      { date: "2025-11-18", time: "16:00", status: "×¤× ×•×™" },
      { date: "2025-11-19", time: "18:30", status: "×¤× ×•×™" }
    ];

    let adminPassword = "123456"; // ×¡×™×¡××” ×–×× ×™×ª ×”×ª×—×œ×ª×™×ª
    const adminTasks = [];
    let currentCalendarDate = new Date();
    let autoSyncInterval = null;

    // ==========================
    // × ×™×•×•×˜ ×‘×¡×™×¡×™
    // ==========================
    function scrollToAppointments() {
      const el = document.getElementById("appointments");
      if (el) {
        el.scrollIntoView({ behavior: "smooth" });
      }
    }

    // ==========================
    // ×ª×•×¨×™× ×œ×“×•×’××”
    // ==========================
    function searchAppointments() {
      const date = document.getElementById("dateInput").value;
      const list = document.getElementById("appointmentsList");
      list.innerHTML = "";

      if (!date) {
        list.innerHTML = '<p style="margin-top:12px; font-size:13px; color:#6b7280;">×‘×—×¨×• ×ª××¨×™×š ×›×“×™ ×œ×¨××•×ª ×ª×•×¨×™× ×¤× ×•×™×™×.</p>';
        return;
      }

      const found = sampleAppointments.filter(a => a.date === date && a.status === "×¤× ×•×™");
      if (!found.length) {
        list.innerHTML = '<p style="margin-top:12px; font-size:13px; color:#6b7280;">×œ×ª××¨×™×š ×–×” ××™×Ÿ ×›×¨×’×¢ ×ª×•×¨×™× ×‘×“×•×’××”. × ×™×ª×Ÿ ×œ×”×©××™×¨ ×¤×¨×˜×™× ×•× ×—×–×•×¨ ××œ×™×›× ×¢× ×”×¦×¢×•×ª ×–××™× ×•×ª.</p>';
        return;
      }

      found.forEach(a => {
        const div = document.createElement("div");
        div.className = "appointment-item";
        div.setAttribute("role", "listitem");
        div.innerHTML = `<span>${a.time}</span><span>${a.status}</span>`;
        list.appendChild(div);
      });
    }

    // ==========================
    // ×œ×™×“×™× ××˜×•×¤×œ×™× ×—×“×©×™× (×¢× ×©×œ×™×—×” ×œ×’×•×’×œ ×©×™×˜×¡)
    // ==========================
    async function submitLead() {
      const nameEl = document.getElementById("leadName");
      const phoneEl = document.getElementById("leadPhone");
      const reasonEl = document.getElementById("leadReason");
      const referralEl = document.getElementById("leadReferral");
      const requestedDateEl = document.getElementById("leadRequestedDate");
      const msg = document.getElementById("leadMessage");

      const name = (nameEl?.value || "").trim();
      const phone = (phoneEl?.value || "").trim();
      const reason = (reasonEl?.value || "").trim();
      const referralManual = (referralEl?.value || "").trim();
      const requestedYMD = (requestedDateEl?.value || "").trim();

      if (!name || !phone) {
        msg.style.color = "#b91c1c";
        msg.textContent = "× × ×œ××œ× ×œ×¤×—×•×ª ×©× ×•×˜×œ×¤×•×Ÿ ×›×“×™ ×©× ×•×›×œ ×œ×—×–×•×¨ ××œ×™×›×.";
        return;
      }

      const validation = validateRequestedDate_(requestedYMD);
      if (!validation.ok) {
        msg.style.color = "#b91c1c";
        msg.textContent = validation.message;
        return;
      }

      // ×”×›×¤×ª×•×¨ ×©×œ "×©×œ×™×—×ª ×¤×¨×˜×™× ×•×ª×™××•× ×©×™×—×”"
      const btn = document.querySelector('button[onclick="submitLead()"]');
      if (btn) {
        btn.disabled = true;
        btn.style.opacity = "0.7";
        btn.style.cursor = "not-allowed";
      }

      msg.style.color = "#f59e0b";
      msg.textContent = "×©×•×œ×— ×¤×¨×˜×™×...";

      const referralFinal = referralManual || getReferralFromUrl_(); // ×¢××•×“×” E
      const requestedDateDDMMYY = formatYMDToDDMMYY_(requestedYMD);  // ×¢××•×“×” F

      const payload = {
        action: "addLead",
        data: {
          name,
          phone,
          reasonForVisit: reason,
          referral: referralFinal,
          requestedDate: requestedDateDDMMYY,
          response: "" // ×œ×™×“ ×—×“×©: response ×¨×™×§ ×›×“×™ ×©×™×¦×‘×¢ ×›×ª×•×
        }
      };

      try {
        await postLeadToSheets_(payload);

        msg.style.color = "#15803d";
        msg.textContent = `×ª×•×“×” ×¨×‘×”, ×”×¤×¨×˜×™× × ×§×œ×˜×•. × ×—×–×•×¨ ××œ×™×›× ×‘×”×§×“× ×¢× ×”×¦×¢×ª ×ª×•×¨ ××¦×œ ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ ×œ×ª××¨×™×š ${requestedDateDDMMYY}.`;

        if (nameEl) nameEl.value = "";
        if (phoneEl) phoneEl.value = "";
        if (reasonEl) reasonEl.value = "";
        if (referralEl) referralEl.value = "";
        if (requestedDateEl) requestedDateEl.value = "";

        // ××—×¨×™ ×©×œ×™×—×”, ××—×–×™×¨×™× ××™× ×™××•× ××—×“×© (×‘××§×¨×” ×©×¢×‘×¨ 18:00 ×‘×–××Ÿ ×©×”×“×£ ×¤×ª×•×—)
        applyTreatmentDateConstraints_();

      } catch (error) {
        msg.style.color = "#b91c1c";
        msg.textContent = "×”×™×™×ª×” ×ª×§×œ×” ×‘×©×œ×™×—×ª ×”×¤×¨×˜×™×. × ×¡×• ×©×•×‘ ×‘×¢×•×“ ×¨×’×¢ ××• ×©×œ×—×• ×”×•×“×¢×ª ×•×•××˜×¡××¤.";
        console.error("Lead submit error:", error);
      } finally {
        if (btn) {
          btn.disabled = false;
          btn.style.opacity = "1";
          btn.style.cursor = "pointer";
        }
      }
    }

    function applyTreatmentDateConstraints_() {
      const input = document.getElementById("leadRequestedDate");
      if (!input) return;

      const minYMD = computeMinTreatmentDateYMD_();
      input.min = minYMD;

      // ×× ×™×© ×¢×¨×š ×©×›×‘×¨ × ×‘×—×¨ ×•×”×•× ×§×˜×Ÿ ××”××™× ×™××•× ×”×—×“×© - × × ×§×”
      if (input.value && input.value < minYMD) {
        input.value = "";
      }
    }

    // ==========================
    // ××–×•×¨ × ×™×”×•×œ â€“ ×›× ×™×¡×” ×•×¡×™×¡×××•×ª
    // ==========================
    function toggleAdminPanel() {
      const passInput = document.getElementById("adminPassword");
      const status = document.getElementById("adminLoginStatus");
      const panel = document.getElementById("adminPanel");
      if (!passInput || !status || !panel) return;

      if (passInput.value === adminPassword) {
        const isHidden = panel.style.display === "none" || panel.style.display === "";
        panel.style.display = isHidden ? "block" : "none";
        status.style.color = "#bbf7d0";
        status.textContent = isHidden ? "× ×›× ×¡×ª ×‘×”×¦×œ×—×” ×œ××–×•×¨ ×”× ×™×”×•×œ." : "×™×¦××ª ×××–×•×¨ ×”× ×™×”×•×œ.";
      } else {
        status.style.color = "#fecaca";
        status.textContent = "×¡×™×¡××” ×©×’×•×™×”. ×× ×–×• ×›× ×™×¡×” ×¨××©×•× ×”, × ×¡×” ××ª ×”×¡×™×¡××” ×”×–×× ×™×ª 123456.";
      }
    }

    function saveTemplate() {
      const template = document.getElementById("thankYouTemplate").value.trim();
      const status = document.getElementById("templateStatus");
      if (!status) return;

      if (!template) {
        status.style.color = "#fecaca";
        status.textContent = "×”×ª×‘× ×™×ª ×¨×™×§×”. × × ×œ×”×§×œ×™×“ ×˜×§×¡×˜ ×œ×”×•×“×¢×ª ×”×ª×•×“×”.";
        return;
      }
      status.style.color = "#bbf7d0";
      status.textContent = "×”×ª×‘× ×™×ª × ×©××¨×” ×‘×”×¦×œ×—×” ×‘×“××•. × ×™×ª×Ÿ ×™×”×™×” ×œ×—×‘×¨ ×–××ª ×‘×”××©×š ×œ××¢×¨×›×ª ×”×•×“×¢×•×ª ×××™×ª×™×ª.";
    }

    function changeAdminPassword() {
      const current = document.getElementById("currentPassword").value;
      const next = document.getElementById("newPassword").value;
      const confirmNext = document.getElementById("confirmPassword").value;
      const status = document.getElementById("passwordStatus");
      if (!status) return;

      if (current !== adminPassword) {
        status.style.color = "#fecaca";
        status.textContent = "×”×¡×™×¡××” ×”× ×•×›×—×™×ª ××™× ×” × ×›×•× ×”.";
        return;
      }
      if (!next || next.length < 4) {
        status.style.color = "#fecaca";
        status.textContent = "×¡×™×¡××” ×—×“×©×” ×¦×¨×™×›×” ×œ×”×›×™×œ ×œ×¤×—×•×ª 4 ×ª×•×•×™×.";
        return;
      }
      if (next !== confirmNext) {
        status.style.color = "#fecaca";
        status.textContent = "×”××™×©×•×¨ ×œ×¡×™×¡××” ×”×—×“×©×” ××™× ×• ×ª×•××.";
        return;
      }

      adminPassword = next;
      status.style.color = "#bbf7d0";
      status.textContent = "×”×¡×™×¡××” ×¢×•×“×›× ×” ×‘×”×¦×œ×—×”. ×‘×›× ×™×¡×” ×”×‘××” ×”×©×ª××© ×‘×¡×™×¡××” ×”×—×“×©×”.";
      document.getElementById("currentPassword").value = "";
      document.getElementById("newPassword").value = "";
      document.getElementById("confirmPassword").value = "";
    }

    // ==========================
    // ××©×™××•×ª × ×™×”×•×œ ×•×œ×•×— ×©× ×”
    // ==========================
    function addTask() {
      const textInput = document.getElementById("taskText");
      const dueInput = document.getElementById("taskDue");
      if (!textInput || !dueInput) return;

      const text = textInput.value.trim();
      const due = dueInput.value;
      if (!text) return;

      adminTasks.push({ text, due, done: false });
      textInput.value = "";
      dueInput.value = "";
      renderTasks();
      renderCalendarDay();
    }

    function toggleTask(index) {
      if (!adminTasks[index]) return;
      adminTasks[index].done = !adminTasks[index].done;
      renderTasks();
      renderCalendarDay();
    }

    function deleteTask(index) {
      if (!adminTasks[index]) return;
      adminTasks.splice(index, 1);
      renderTasks();
      renderCalendarDay();
    }

    function renderTasks() {
      const container = document.getElementById("tasksList");
      if (!container) return;
      container.innerHTML = "";

      if (!adminTasks.length) {
        container.innerHTML = '<p style="font-size:13px; color:#9ca3af; margin-top:6px;">××™×Ÿ ××©×™××•×ª ×›×¨×’×¢.</p>';
        return;
      }

      adminTasks.forEach((task, index) => {
        const row = document.createElement("div");
        row.style.display = "flex";
        row.style.alignItems = "center";
        row.style.justifyContent = "space-between";
        row.style.gap = "8px";
        row.style.marginTop = "6px";
        row.setAttribute("role", "listitem");

        const left = document.createElement("div");
        left.style.display = "flex";
        left.style.alignItems = "center";
        left.style.gap = "6px";

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = task.done;
        checkbox.onclick = () => toggleTask(index);
        checkbox.setAttribute("aria-label", `×¡××Ÿ ××©×™××”: ${task.text}`);

        const label = document.createElement("span");
        label.textContent = task.text + (task.due ? ` (×™×¢×“: ${task.due})` : "");
        label.style.fontSize = "13px";
        if (task.done) {
          label.style.textDecoration = "line-through";
          label.style.opacity = "0.7";
        }

        left.appendChild(checkbox);
        left.appendChild(label);

        const delBtn = document.createElement("button");
        delBtn.type = "button";
        delBtn.textContent = "âœ•";
        delBtn.style.border = "none";
        delBtn.style.borderRadius = "999px";
        delBtn.style.padding = "2px 8px";
        delBtn.style.fontSize = "11px";
        delBtn.style.cursor = "pointer";
        delBtn.setAttribute("aria-label", `××—×§ ××©×™××”: ${task.text}`);
        delBtn.onclick = () => deleteTask(index);

        row.appendChild(left);
        row.appendChild(delBtn);
        container.appendChild(row);
      });
    }

    function formatDateForCalendar(d) {
      const year = d.getFullYear();
      const month = String(d.getMonth() + 1).padStart(2, "0");
      const day = String(d.getDate()).padStart(2, "0");
      return `${year}-${month}-${day}`;
    }

    function renderCalendarDay() {
      const container = document.getElementById("calendarDemo");
      if (!container) return;
      const dateStr = formatDateForCalendar(currentCalendarDate);
      const tasksForDay = adminTasks.filter(t => t.due === dateStr);

      let html = "";
      html += `<div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:6px;">`;
      html += `<button type="button" style="border-radius:999px; border:1px solid #4b5563; background:transparent; color:inherit; padding:2px 8px; font-size:11px; cursor:pointer;" onclick="changeCalendarDay(-1)" aria-label="×™×•× ×§×•×“×">×™×•× ×§×•×“×</button>`;
      html += `<strong>${dateStr}</strong>`;
      html += `<button type="button" style="border-radius:999px; border:1px solid #4b5563; background:transparent; color:inherit; padding:2px 8px; font-size:11px; cursor:pointer;" onclick="changeCalendarDay(1)" aria-label="×™×•× ×”×‘×">×™×•× ×”×‘×</button>`;
      html += `</div>`;

      if (!tasksForDay.length) {
        html += `<p style="font-size:12px; color:#9ca3af; margin:4px 0 0;">××™×Ÿ ××©×™××•×ª ×¨×©×•××•×ª ×œ×™×•× ×–×”.</p>`;
      } else {
        html += `<ul style="margin:4px 0 0; padding-right:18px; font-size:12px;">`;
        tasksForDay.forEach(t => {
          html += `<li>${t.text}</li>`;
        });
        html += `</ul>`;
      }

      container.innerHTML = html;
    }

    function changeCalendarDay(delta) {
      currentCalendarDate.setDate(currentCalendarDate.getDate() + delta);
      renderCalendarDay();
    }

    // ==========================
    // ×—×™×‘×•×¨ ×××™×ª×™ ×œ×’×•×’×œ ×©×™×˜×¡
    // ==========================
    async function importFromSheets() {
      const status = document.getElementById("sheetsStatus");
      const urlInput = document.getElementById("sheetsUrl");
      if (!status || !urlInput) return;

      const webAppUrl = urlInput.value.trim();
      if (!webAppUrl) {
        status.style.color = "#fecaca";
        status.textContent = "× × ×œ×”×–×™×Ÿ ×›×ª×•×‘×ª Web App ×©×œ Google Apps Script";
        return;
      }

      status.style.color = "#fbbf24";
      status.textContent = "××™×™×‘× × ×ª×•× ×™× ××’×•×’×œ ×©×™×˜×¡...";

      try {
        const response = await fetch(webAppUrl + "?action=getAppointments", {
          method: 'GET',
          mode: 'cors'
        });

        if (!response.ok) {
          throw new Error('×©×’×™××” ×‘×ª×§×©×•×¨×ª ×¢× ×”×©×¨×ª');
        }

        const data = await response.json();
        
        if (data.success && Array.isArray(data.appointments)) {
          sampleAppointments = data.appointments;
          status.style.color = "#bbf7d0";
          status.textContent = `×™×™×‘×•× ×”×¦×œ×™×—! × ×˜×¢× ×• ${data.appointments.length} ×ª×•×¨×™× ××’×•×’×œ ×©×™×˜×¡`;
          
          const dateInput = document.getElementById("dateInput");
          if (dateInput && dateInput.value) {
            searchAppointments();
          }
        } else {
          throw new Error(data.error || '×¤×•×¨××˜ × ×ª×•× ×™× ×œ× ×ª×§×™×Ÿ');
        }
      } catch (error) {
        status.style.color = "#fecaca";
        status.textContent = `×©×’×™××”: ${error.message}. ×•×“× ×©×”-Web App ×¤×¢×™×œ ×•×××¤×©×¨ ×’×™×©×” ×× ×•× ×™××™×ª.`;
        console.error('Import error:', error);
      }
    }

    async function exportToSheets() {
      const status = document.getElementById("sheetsStatus");
      const urlInput = document.getElementById("sheetsUrl");
      if (!status || !urlInput) return;

      const webAppUrl = urlInput.value.trim();
      if (!webAppUrl) {
        status.style.color = "#fecaca";
        status.textContent = "× × ×œ×”×–×™×Ÿ ×›×ª×•×‘×ª Web App ×©×œ Google Apps Script";
        return;
      }

      status.style.color = "#fbbf24";
      status.textContent = "××™×™×¦× × ×ª×•× ×™× ×œ×’×•×’×œ ×©×™×˜×¡...";

      try {
        const dataToExport = {
          appointments: sampleAppointments,
          tasks: adminTasks,
          timestamp: new Date().toISOString()
        };

        const response = await fetch(webAppUrl, {
          method: 'POST',
          mode: 'cors',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            action: 'updateAppointments',
            data: dataToExport
          })
        });

        if (!response.ok) {
          throw new Error('×©×’×™××” ×‘×ª×§×©×•×¨×ª ×¢× ×”×©×¨×ª');
        }

        const result = await response.json();
        
        if (result.success) {
          status.style.color = "#bbf7d0";
          status.textContent = `×™×™×¦×•× ×”×¦×œ×™×—! ${sampleAppointments.length} ×ª×•×¨×™× ×•-${adminTasks.length} ××©×™××•×ª ×¢×•×“×›× ×• ×‘×’×•×’×œ ×©×™×˜×¡`;
        } else {
          throw new Error(result.error || '×”×™×™×¦×•× × ×›×©×œ');
        }
      } catch (error) {
        status.style.color = "#fecaca";
        status.textContent = `×©×’×™××”: ${error.message}`;
        console.error('Export error:', error);
      }
    }

    function startAutoSync() {
      if (autoSyncInterval) {
        alert('×¡× ×›×¨×•×Ÿ ××•×˜×•××˜×™ ×›×‘×¨ ×¤×•×¢×œ');
        return;
      }
      
      const urlInput = document.getElementById("sheetsUrl");
      if (!urlInput || !urlInput.value.trim()) {
        alert('× × ×œ×”×–×™×Ÿ ×›×ª×•×‘×ª Web App ×œ×¤× ×™ ×”×¤×¢×œ×ª ×¡× ×›×¨×•×Ÿ ××•×˜×•××˜×™');
        return;
      }

      autoSyncInterval = setInterval(() => {
        importFromSheets();
      }, 5 * 60 * 1000);

      const status = document.getElementById("sheetsStatus");
      if (status) {
        status.style.color = "#bbf7d0";
        status.textContent = "×¡× ×›×¨×•×Ÿ ××•×˜×•××˜×™ ×”×•×¤×¢×œ - ×”××¢×¨×›×ª ×ª×ª×¢×“×›×Ÿ ×›×œ 5 ×“×§×•×ª";
      }
    }

    function stopAutoSync() {
      if (!autoSyncInterval) {
        alert('×¡× ×›×¨×•×Ÿ ××•×˜×•××˜×™ ×œ× ×¤×•×¢×œ ×›×¨×’×¢');
        return;
      }

      clearInterval(autoSyncInterval);
      autoSyncInterval = null;

      const status = document.getElementById("sheetsStatus");
      if (status) {
        status.style.color = "#9ca3af";
        status.textContent = "×¡× ×›×¨×•×Ÿ ××•×˜×•××˜×™ ×”×•×¤×¡×§";
      }
    }

    // ==========================
    // × ×’×™×©×•×ª â€“ ×¤×× ×œ ×•×›×™×•×•× ×•× ×™×
    // ==========================
    function toggleAccessibilityPanel() {
      const panel = document.getElementById("accessibilityPanel");
      if (!panel) return;
      const isOpen = panel.classList.contains("open");
      panel.classList.toggle("open");
      panel.setAttribute("aria-hidden", isOpen ? "true" : "false");
    }

    const accessibilityConfig = {
      largeFont:      { className: "a11y-large-font",      checkboxId: "optLargeFont" },
      highContrast:   { className: "a11y-high-contrast",   checkboxId: "optHighContrast" },
      darkMode:       { className: "a11y-dark-mode",       checkboxId: "optDarkMode" },
      underlineLinks: { className: "a11y-underline-links", checkboxId: "optUnderline" },
      dyslexicFont:   { className: "a11y-dyslexic-font",   checkboxId: "optDyslexic" },
      spacing:        { className: "a11y-spacing",         checkboxId: "optSpacing" },
      strongFocus:    { className: "a11y-strong-focus",    checkboxId: "optFocus" },
      reducedMotion:  { className: "a11y-reduced-motion",  checkboxId: "optReducedMotion" },
      grayscale:      { className: "a11y-grayscale",       checkboxId: "optGrayscale" }
    };

    function toggleAccessibilityOption(key, enabled) {
      const cfg = accessibilityConfig[key];
      if (!cfg) return;
      document.body.classList.toggle(cfg.className, enabled);
      saveAccessibilityState();
    }

    function resetAccessibility() {
      Object.values(accessibilityConfig).forEach(cfg => {
        document.body.classList.remove(cfg.className);
        const cb = document.getElementById(cfg.checkboxId);
        if (cb) cb.checked = false;
      });
      saveAccessibilityState();
    }

    function saveAccessibilityState() {
      const state = {};
      Object.entries(accessibilityConfig).forEach(([key, cfg]) => {
        state[key] = document.body.classList.contains(cfg.className);
      });
      try {
        localStorage.setItem("a11yState", JSON.stringify(state));
      } catch (e) {
        console.warn('×œ× × ×™×ª×Ÿ ×œ×©××•×¨ ×”×’×“×¨×•×ª × ×’×™×©×•×ª ×‘-localStorage');
      }
    }

    function loadAccessibilityState() {
      let state = {};
      try {
        const raw = localStorage.getItem("a11yState");
        if (raw) state = JSON.parse(raw);
      } catch (e) {
        state = {};
      }
      Object.entries(accessibilityConfig).forEach(([key, cfg]) => {
        const enabled = !!state[key];
        document.body.classList.toggle(cfg.className, enabled);
        const cb = document.getElementById(cfg.checkboxId);
        if (cb) cb.checked = enabled;
      });
    }

    function enhanceAccessibility() {
      const buttons = document.querySelectorAll('button:not([aria-label])');
      buttons.forEach(btn => {
        const text = btn.textContent.trim();
        if (text && !btn.getAttribute('aria-label')) {
          btn.setAttribute('aria-label', text);
        }
      });

      const cards = document.querySelectorAll('.card:not([role])');
      cards.forEach(card => {
        card.setAttribute('role', 'article');
      });

      const inputs = document.querySelectorAll('input:not([aria-label]):not([id])');
      inputs.forEach(input => {
        const placeholder = input.getAttribute('placeholder');
        if (placeholder && !input.getAttribute('aria-label')) {
          input.setAttribute('aria-label', placeholder);
        }
      });
    }

    // ==========================
    // ××¢×¨×›×ª ×‘×“×™×§×ª ×ª×§×™× ×•×ª ××ª×§×“××ª
    // ==========================
    function runDiagnostics() {
      console.log("ğŸ” ××¨×™×¥ ×‘×“×™×§×ª ×ª×§×™× ×•×ª ××¢×¨×›×ª...");
      
      const issues = [];
      const warnings = [];
      const success = [];

      const criticalElements = [
        "appointments", "leadName", "leadPhone", "leadReason",
        "leadReferral", "leadRequestedDate",
        "adminPassword", "adminPanel", "calendarDemo", "sheetsUrl",
        "accessibilityPanel", "dateInput", "appointmentsList",
        "thankYouTemplate", "tasksList", "adminLoginStatus",
        "templateStatus", "passwordStatus", "sheetsStatus",
        "diagnosticsStatus", "leadMessage", "taskText", "taskDue"
      ];

      criticalElements.forEach(id => {
        const el = document.getElementById(id);
        if (!el) {
          issues.push(`âŒ ××œ×× ×˜ ×—×¡×¨: id="${id}"`);
        } else {
          success.push(`âœ… ××œ×× ×˜ ×ª×§×™×Ÿ: ${id}`);
        }
      });

      const criticalFunctions = [
        "scrollToAppointments", "searchAppointments", "submitLead",
        "toggleAdminPanel", "saveTemplate", "changeAdminPassword",
        "addTask", "toggleTask", "deleteTask", "renderTasks", 
        "renderCalendarDay", "changeCalendarDay", "formatDateForCalendar",
        "importFromSheets", "exportToSheets", "startAutoSync", "stopAutoSync",
        "toggleAccessibilityPanel", "toggleAccessibilityOption",
        "resetAccessibility", "saveAccessibilityState", "loadAccessibilityState",
        "enhanceAccessibility", "runDiagnostics",
        "applyTreatmentDateConstraints_", "validateRequestedDate_",
        "formatDateDDMMYY_", "formatYMDToDDMMYY_"
      ];

      criticalFunctions.forEach(fnName => {
        if (typeof window[fnName] !== "function") {
          issues.push(`âŒ ×¤×•× ×§×¦×™×” ×—×¡×¨×”: ${fnName}()`);
        } else {
          success.push(`âœ… ×¤×•× ×§×¦×™×” ×–××™× ×”: ${fnName}()`);
        }
      });

      const accessibilityChecks = {
        '×›×¤×ª×•×¨×™× ×¢× aria-label': document.querySelectorAll('button[aria-label]').length,
        '×§×™×©×•×¨×™× ×¢× ×˜×§×¡×˜': document.querySelectorAll('a:not(:empty)').length,
        '×©×“×•×ª ×˜×•×¤×¡ ×¢× labels ××• aria-label': document.querySelectorAll('input[aria-label], input[id]').length,
        '×›×•×ª×¨×•×ª ×”×™×¨×¨×›×™×•×ª (h1-h3)': document.querySelectorAll('h1, h2, h3').length,
        '××–×•×¨×™ landmark (role)': document.querySelectorAll('[role="region"], [role="article"], [role="form"]').length,
        '××œ×× ×˜×™× ×¢× aria-live': document.querySelectorAll('[aria-live]').length
      };

      Object.entries(accessibilityChecks).forEach(([check, count]) => {
        if (count > 0) {
          success.push(`âœ… × ×’×™×©×•×ª: ${check} (${count})`);
        } else {
          warnings.push(`âš ï¸ × ×’×™×©×•×ª: ×œ× × ××¦××• ${check}`);
        }
      });

      try {
        localStorage.setItem('test_diagnostic', 'test');
        localStorage.removeItem('test_diagnostic');
        success.push('âœ… LocalStorage ×¤×¢×™×œ ×•×ª×§×™×Ÿ');
      } catch (e) {
        warnings.push('âš ï¸ LocalStorage ×œ× ×–××™×Ÿ - ×”×’×“×¨×•×ª × ×’×™×©×•×ª ×œ× ×™×™×©××¨×•');
      }

      if (sampleAppointments && sampleAppointments.length > 0) {
        success.push(`âœ… ${sampleAppointments.length} ×ª×•×¨×™× ×–××™× ×™× ×‘××¢×¨×›×ª`);
      } else {
        warnings.push('âš ï¸ ××™×Ÿ ×ª×•×¨×™× ×‘××¢×¨×›×ª');
      }

      if (adminTasks && adminTasks.length > 0) {
        success.push(`âœ… ${adminTasks.length} ××©×™××•×ª ×¤×¢×™×œ×•×ª ×‘××¢×¨×›×ª`);
      } else {
        success.push('âœ… ××¢×¨×›×ª ××©×™××•×ª ×¤×¢×™×œ×” (×œ×œ× ××©×™××•×ª ×›×¨×’×¢)');
      }

      const globalVars = ['adminPassword', 'currentCalendarDate', 'autoSyncInterval', 'accessibilityConfig'];
      globalVars.forEach(varName => {
        if (typeof window[varName] !== 'undefined') {
          success.push(`âœ… ××©×ª× ×” ×’×œ×•×‘×œ×™: ${varName}`);
        } else {
          issues.push(`âŒ ××©×ª× ×” ×’×œ×•×‘×œ×™ ×—×¡×¨: ${varName}`);
        }
      });

      const cssClasses = ['hero', 'card', 'btn-primary', 'admin-box', 'accessibility-panel'];
      cssClasses.forEach(className => {
        const elements = document.querySelectorAll('.' + className);
        if (elements.length > 0) {
          success.push(`âœ… CSS Class × ××¦×: .${className} (${elements.length} ××œ×× ×˜×™×)`);
        } else {
          warnings.push(`âš ï¸ CSS Class ×œ× × ××¦×: .${className}`);
        }
      });

      const handlersCheck = {
        'onclick handlers': document.querySelectorAll('[onclick]').length,
        'onchange handlers': document.querySelectorAll('[onchange]').length
      };

      Object.entries(handlersCheck).forEach(([check, count]) => {
        if (count > 0) {
          success.push(`âœ… ${check}: ${count} ××œ×× ×˜×™×`);
        } else {
          warnings.push(`âš ï¸ ×œ× × ××¦××• ${check}`);
        }
      });

      console.log("\nğŸ“Š ×ª×•×¦××•×ª ×‘×“×™×§×ª ×ª×§×™× ×•×ª:\n");
      console.log("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
      
      if (success.length > 0) {
        console.log("\nâœ¨ ×”×¦×œ×—×•×ª (" + success.length + "):");
        success.forEach(s => console.log("  " + s));
      }

      if (warnings.length > 0) {
        console.log("\nâš ï¸ ××–×”×¨×•×ª (" + warnings.length + "):");
        warnings.forEach(w => console.log("  " + w));
      }

      if (issues.length > 0) {
        console.log("\nâŒ ×‘×¢×™×•×ª ×§×¨×™×˜×™×•×ª (" + issues.length + "):");
        issues.forEach(i => console.log("  " + i));
      }

      const totalChecks = success.length + warnings.length + issues.length;
      const successRate = Math.round((success.length / totalChecks) * 100);
      
      const todayNice = formatDateDDMMYY_(new Date());
      const summary = `
ğŸ¯ ×¡×™×›×•× ×‘×“×™×§×ª ×ª×§×™× ×•×ª ××¢×¨×›×ª:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… ×”×¦×œ×—×•×ª: ${success.length}
âš ï¸ ××–×”×¨×•×ª: ${warnings.length}
âŒ ×‘×¢×™×•×ª ×§×¨×™×˜×™×•×ª: ${issues.length}
ğŸ“ˆ ××—×•×– ×”×¦×œ×—×”: ${successRate}%
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¥ ×§×œ×™× ×™×§×ª ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨
ğŸ“… ×ª××¨×™×š: ${todayNice}
      `;
      
      console.log(summary);

      const statusEl = document.getElementById("diagnosticsStatus");
      if (statusEl) {
        if (issues.length === 0) {
          statusEl.style.background = "#f0fdf4";
          statusEl.style.color = "#16a34a";
          statusEl.style.borderLeft = "4px solid #22c55e";
          statusEl.innerHTML = `
            <div style="display:flex; align-items:center; gap:8px; margin-bottom:6px;">
              <span style="font-size:20px;">âœ…</span>
              <strong>×”××¢×¨×›×ª ×ª×§×™× ×” ×œ×—×œ×•×˜×™×Ÿ!</strong>
            </div>
            <div style="font-size:12px; opacity:0.8;">
              ${successRate}% ××”×‘×“×™×§×•×ª ×¢×‘×¨×• ×‘×”×¦×œ×—×” | ${success.length} ×¨×›×™×‘×™× ×ª×§×™× ×™×
              ${warnings.length > 0 ? ` | ${warnings.length} ××–×”×¨×•×ª` : ''}
            </div>
          `;
        } else if (issues.length <= 3) {
          statusEl.style.background = "#fef3c7";
          statusEl.style.color = "#92400e";
          statusEl.style.borderLeft = "4px solid #fbbf24";
          statusEl.innerHTML = `
            <div style="display:flex; align-items:center; gap:8px; margin-bottom:6px;">
              <span style="font-size:20px;">âš ï¸</span>
              <strong>×”××¢×¨×›×ª ×¤×•×¢×œ×ª ×¢× ${issues.length} ×‘×¢×™×•×ª ×§×œ×•×ª</strong>
            </div>
            <div style="font-size:12px; opacity:0.8;">
              ${successRate}% ×”×¦×œ×—×” | ×‘×“×•×§ ××ª ×”×§×•× ×¡×•×œ (F12) ×œ×¤×¨×˜×™× ××œ××™×
            </div>
          `;
        } else {
          statusEl.style.background = "#fee2e2";
          statusEl.style.color = "#b91c1c";
          statusEl.style.borderLeft = "4px solid #ef4444";
          statusEl.innerHTML = `
            <div style="display:flex; align-items:center; gap:8px; margin-bottom:6px;">
              <span style="font-size:20px;">âŒ</span>
              <strong>×–×•×”×• ${issues.length} ×‘×¢×™×•×ª ×§×¨×™×˜×™×•×ª</strong>
            </div>
            <div style="font-size:12px; opacity:0.8;">
              ${successRate}% ×”×¦×œ×—×” | ×¤×ª×— ×§×•× ×¡×•×œ (F12) ×œ×¨×©×™××” ××œ××” ×©×œ ×”×‘×¢×™×•×ª
            </div>
          `;
        }
      }

      return {
        success: issues.length === 0,
        successRate,
        issues,
        warnings,
        successList: success,
        totalChecks
      };
    }

    // ==========================
    // ××ª×—×•×œ ×”××¢×¨×›×ª
    // ==========================
    document.addEventListener("DOMContentLoaded", function() {
      console.log("ğŸš€ ××¢×¨×›×ª ×§×œ×™× ×™×§×ª ×“\"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨ ××ª×—×™×œ×” ×œ×”×™×˜×¢×Ÿ...");
      
      loadAccessibilityState();
      renderTasks();
      renderCalendarDay();
      enhanceAccessibility();

      const dateInput = document.getElementById("dateInput");
      if (dateInput) {
        const today = new Date();
        const dateStr = today.toISOString().split('T')[0];
        dateInput.value = dateStr;
      }

      // ×—×“×©: ×”×’×‘×œ×•×ª ×œ×©×“×” "×‘×—×¨×• ×ª××¨×™×š ×œ×˜×™×¤×•×œ"
      applyTreatmentDateConstraints_();
      const requestedDateEl = document.getElementById("leadRequestedDate");
      if (requestedDateEl) {
        requestedDateEl.addEventListener("change", () => {
          const msg = document.getElementById("leadMessage");
          if (!msg) return;
          const validation = validateRequestedDate_(requestedDateEl.value);
          if (!validation.ok) {
            msg.style.color = "#b91c1c";
            msg.textContent = validation.message;
          } else if (msg.textContent && msg.style.color === "rgb(185, 28, 28)") {
            msg.textContent = "";
          }
        });
      }

      setTimeout(() => {
        console.log("âœ¨ ×”××¢×¨×›×ª × ×˜×¢× ×” ×‘×”×¦×œ×—×”!");
        console.log("ğŸ“‹ ××¨×™×¥ ×‘×“×™×§×ª ×ª×§×™× ×•×ª ××•×˜×•××˜×™×ª...\n");
        const diagnosticsResult = runDiagnostics();
        
        if (diagnosticsResult.success) {
          console.log("ğŸ‰ ×›×œ ×”××¢×¨×›×•×ª ×¤×•×¢×œ×•×ª ×ª×§×™×Ÿ!");
        } else if (diagnosticsResult.issues.length > 0) {
          console.warn("âš ï¸ × ××¦××• ×‘×¢×™×•×ª - ××•××œ×¥ ×œ×‘×“×•×§ ××ª ×”×“×•×— ×œ××¢×œ×”");
        }
      }, 1000);
    });

    window.addEventListener('error', function(e) {
      console.error('ğŸš¨ ×©×’×™××” ×‘××¢×¨×›×ª:', e.message);
    });

    console.log(`
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                                                       â•‘
    â•‘   ğŸ¥ ×§×œ×™× ×™×§×ª ×“"×¨ ××•×•×Ÿ ×’×¨×©××˜×¨                         â•‘
    â•‘   Dr. Evan Gershater Chiropractic Clinic              â•‘
    â•‘                                                       â•‘
    â•‘   âœ¨ ××¢×¨×›×ª × ×™×”×•×œ ××ª×§×“××ª ×¢×:                          â•‘
    â•‘   â€¢ × ×’×™×©×•×ª ××œ××” WCAG 2.1                             â•‘
    â•‘   â€¢ ×—×™×‘×•×¨ ×œ×’×•×’×œ ×©×™×˜×¡                                 â•‘
    â•‘   â€¢ ××¢×¨×›×ª ×‘×“×™×§×ª ×ª×§×™× ×•×ª ××•×˜×•××˜×™×ª                      â•‘
    â•‘   â€¢ × ×™×”×•×œ ×ª×•×¨×™× ×•××©×™××•×ª                              â•‘
    â•‘                                                       â•‘
    â•‘   ğŸ“ 053-924-0494                                     â•‘
    â•‘   ğŸ’¬ WhatsApp: wa.me/972539240494                    â•‘
    â•‘                                                       â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    `);
  </script>
</body>
</html>
